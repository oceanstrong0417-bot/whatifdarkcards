<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>У КОГО МРАЧНЕЕ МЫСЛИ | Карточная игра</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #8b0000, #2f4f4f, #696969);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(139, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #a0a0a0;
            margin-bottom: 20px;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1000px;
            gap: 25px;
        }
        
        .score-board {
            display: flex;
            justify-content: space-between;
            width: 100%;
            background: rgba(40, 40, 40, 0.8);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .player-score, .opponent-score {
            text-align: center;
            flex: 1;
        }
        
        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #8b0000;
            margin: 10px 0;
        }
        
        .cards-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 20px;
        }
        
        .player-area, .opponent-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .area-title {
            font-size: 1.4rem;
            color: #b0b0b0;
            margin-bottom: 10px;
        }
        
        .card-slot {
            width: 180px;
            height: 250px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 15px;
        }
        
        .card-front {
            background: linear-gradient(145deg, #2f1e1e, #1a1a1a);
            border: 2px solid #5a0000;
            transform: rotateY(180deg);
        }
        
        .card-back {
            background: linear-gradient(145deg, #8b0000, #5a0000);
            border: 2px solid #3a0000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #3a0000;
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-suit {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 10px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .suit-symbol {
            font-size: 2.5rem;
        }
        
        .spades { color: #000000; }
        .clubs { color: #003300; }
        .diamonds { color: #8b4500; }
        .hearts { color: #8b0000; }
        
        .card-value {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-text {
            font-size: 0.9rem;
            text-align: center;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
            line-height: 1.3;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .btn {
            background: linear-gradient(145deg, #5a0000, #8b0000);
            color: #e0e0e0;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 0, 0, 0.5);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn:disabled {
            background: linear-gradient(145deg, #3a3a3a, #5a5a5a);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-message {
            font-size: 1.5rem;
            text-align: center;
            margin: 20px 0;
            min-height: 40px;
            color: #8b0000;
            font-weight: bold;
        }
        
        .deck {
            width: 180px;
            height: 250px;
            background: linear-gradient(145deg, #3a0000, #1a0000);
            border-radius: 12px;
            border: 2px solid #5a0000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #5a0000;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
            margin: 0 auto;
        }
        
        .game-info {
            background: rgba(40, 40, 40, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            width: 100%;
            max-width: 800px;
        }
        
        .game-info h2 {
            color: #8b0000;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .game-info p {
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .cards-container {
                flex-direction: column;
                align-items: center;
            }
            
            .player-area, .opponent-area {
                width: 100%;
            }
            
            .card-slot {
                width: 150px;
                height: 210px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>У КОГО МРАЧНЕЕ МЫСЛИ</h1>
        <div class="subtitle">Карточная битва самых тёмных "А что если..."</div>
    </div>
    
    <div class="game-container">
        <div class="score-board">
            <div class="player-score">
                <div class="area-title">ТВОИ МЫСЛИ</div>
                <div class="score-value" id="playerScore">0</div>
                <div>Мрачность</div>
            </div>
            <div class="opponent-score">
                <div class="area-title">МЫСЛИ ПРОТИВНИКА</div>
                <div class="score-value" id="opponentScore">0</div>
                <div>Мрачность</div>
            </div>
        </div>
        
        <div class="result-message" id="resultMessage"></div>
        
        <div class="cards-container">
            <div class="opponent-area">
                <div class="area-title">ПРОТИВНИК</div>
                <div class="card-slot">
                    <div class="card" id="opponentCard">
                        <div class="card-front">
                            <div class="card-suit" id="opponentSuit">
                                <span class="suit-symbol">♠</span>
                            </div>
                            <div class="card-value" id="opponentValue">10</div>
                            <div class="card-text" id="opponentText">А что если все мои страхи реальны?</div>
                        </div>
                        <div class="card-back">?</div>
                    </div>
                </div>
            </div>
            
            <div class="deck-area">
                <div class="deck">♠♥♣♦</div>
            </div>
            
            <div class="player-area">
                <div class="area-title">ТВОЯ КАРТА</div>
                <div class="card-slot">
                    <div class="card flipped" id="playerCard">
                        <div class="card-front">
                            <div class="card-suit" id="playerSuit">
                                <span class="suit-symbol">♠</span>
                            </div>
                            <div class="card-value" id="playerValue">10</div>
                            <div class="card-text" id="playerText">А что если я никогда не найду своё предназначение?</div>
                        </div>
                        <div class="card-back">?</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" id="playBtn">РАЗЫГРАТЬ КАРТУ</button>
            <button class="btn" id="nextBtn" disabled>СЛЕДУЮЩИЙ РАУНД</button>
            <button class="btn" id="resetBtn">НОВАЯ ИГРА</button>
        </div>
        
        <div class="game-info">
            <h2>Как играть?</h2>
            <p>1. Нажмите "РАЗЫГРАТЬ КАРТУ", чтобы открыть свою карту и карту противника.</p>
            <p>2. Карты имеют разную "мрачность" мыслей (значение от 1 до 13).</p>
            <p>3. Игрок с более мрачной картой получает очко.</p>
            <p>4. Победит тот, у кого после 5 раундов будет больше очков мрачности!</p>
            <p>5. Масти карт также влияют на игру: ♠ Пики - самая мрачная, ♥ Червы - наименее мрачная.</p>
        </div>
    </div>

    <script>
        // Карточная колода с мрачными мыслями
        const darkThoughts = [
            // Пики - самые мрачные
            { suit: 'spades', symbol: '♠', value: 1, displayValue: 'A', text: 'А что если я просто пешка в чужой игре?' },
            { suit: 'spades', symbol: '♠', value: 2, displayValue: '2', text: 'А что если мои достижения — всего лишь случайность?' },
            { suit: 'spades', symbol: '♠', value: 3, displayValue: '3', text: 'А что если завтра всё потеряет смысл?' },
            { suit: 'spades', symbol: '♠', value: 4, displayValue: '4', text: 'А что если я никогда не смогу быть по-настоящему счастлив?' },
            { suit: 'spades', symbol: '♠', value: 5, displayValue: '5', text: 'А что если все мои решения были ошибками?' },
            { suit: 'spades', symbol: '♠', value: 6, displayValue: '6', text: 'А что если я обречён на одиночество?' },
            { suit: 'spades', symbol: '♠', value: 7, displayValue: '7', text: 'А что если меня любят только из жалости?' },
            { suit: 'spades', symbol: '♠', value: 8, displayValue: '8', text: 'А что если я никогда не найду своё предназначение?' },
            { suit: 'spades', symbol: '♠', value: 9, displayValue: '9', text: 'А что если все мои страхи реальны?' },
            { suit: 'spades', symbol: '♠', value: 10, displayValue: '10', text: 'А что если я живу не своей жизнью?' },
            { suit: 'spades', symbol: '♠', value: 11, displayValue: 'В', text: 'А что если завтра меня не станет и никто не заметит?' },
            { suit: 'spades', symbol: '♠', value: 12, displayValue: 'Д', text: 'А что если всё, во что я верю — иллюзия?' },
            { suit: 'spades', symbol: '♠', value: 13, displayValue: 'К', text: 'А что если я уже давно мёртв внутри?' },
            
            // Трефы
            { suit: 'clubs', symbol: '♣', value: 1, displayValue: 'A', text: 'А что если я никогда не научусь быть счастливым?' },
            { suit: 'clubs', symbol: '♣', value: 2, displayValue: '2', text: 'А что если я трачу жизнь впустую?' },
            { suit: 'clubs', symbol: '♣', value: 3, displayValue: '3', text: 'А что если все мои мечты недостижимы?' },
            { suit: 'clubs', symbol: '♣', value: 4, displayValue: '4', text: 'А что если я никогда не изменюсь?' },
            { suit: 'clubs', symbol: '♣', value: 5, displayValue: '5', text: 'А что если я уже достиг пика своих возможностей?' },
            { suit: 'clubs', symbol: '♣', value: 6, displayValue: '6', text: 'А что если я не заслуживаю любви?' },
            { suit: 'clubs', symbol: '♣', value: 7, displayValue: '7', text: 'А что если я просто притворяюсь, что у меня всё хорошо?' },
            { suit: 'clubs', symbol: '♣', value: 8, displayValue: '8', text: 'А что если я никогда не научусь доверять?' },
            { suit: 'clubs', symbol: '♣', value: 9, displayValue: '9', text: 'А что если я всегда буду бояться будущего?' },
            { suit: 'clubs', symbol: '♣', value: 10, displayValue: '10', text: 'А что если я никогда не пойму, кто я на самом деле?' },
            { suit: 'clubs', symbol: '♣', value: 11, displayValue: 'В', text: 'А что если я просто обуза для окружающих?' },
            { suit: 'clubs', symbol: '♣', value: 12, displayValue: 'Д', text: 'А что если я никогда не избавлюсь от своих страхов?' },
            { suit: 'clubs', symbol: '♣', value: 13, displayValue: 'К', text: 'А что если я всегда буду одинок?' },
            
            // Буби
            { suit: 'diamonds', symbol: '♦', value: 1, displayValue: 'A', text: 'А что если я никогда не научусь быть собой?' },
            { suit: 'diamonds', symbol: '♦', value: 2, displayValue: '2', text: 'А что если все мои усилия напрасны?' },
            { suit: 'diamonds', symbol: '♦', value: 3, displayValue: '3', text: 'А что если я всегда буду зависеть от чужого мнения?' },
            { suit: 'diamonds', symbol: '♦', value: 4, displayValue: '4', text: 'А что если я никогда не найду своё место в жизни?' },
            { suit: 'diamonds', symbol: '♦', value: 5, displayValue: '5', text: 'А что если я проживаю чужую жизнь?' },
            { suit: 'diamonds', symbol: '♦', value: 6, displayValue: '6', text: 'А что если я никогда не научусь прощать себя?' },
            { suit: 'diamonds', symbol: '♦', value: 7, displayValue: '7', text: 'А что если все мои таланты бесполезны?' },
            { suit: 'diamonds', symbol: '♦', value: 8, displayValue: '8', text: 'А что если я всегда буду бояться перемен?' },
            { suit: 'diamonds', symbol: '♦', value: 9, displayValue: '9', text: 'А что если я никогда не избавлюсь от прошлого?' },
            { suit: 'diamonds', symbol: '♦', value: 10, displayValue: '10', text: 'А что если я просто играю роль перед другими?' },
            { suit: 'diamonds', symbol: '♦', value: 11, displayValue: 'В', text: 'А что если я никогда не научусь быть счастливым?' },
            { suit: 'diamonds', symbol: '♦', value: 12, displayValue: 'Д', text: 'А что если все мои надежды тщетны?' },
            { suit: 'diamonds', symbol: '♦', value: 13, displayValue: 'К', text: 'А что если я никогда не познаю настоящей любви?' },
            
            // Червы
            { suit: 'hearts', symbol: '♥', value: 1, displayValue: 'A', text: 'А что если я никогда не научусь ценить себя?' },
            { suit: 'hearts', symbol: '♥', value: 2, displayValue: '2', text: 'А что если я всегда буду сомневаться в своих решениях?' },
            { suit: 'hearts', symbol: '♥', value: 3, displayValue: '3', text: 'А что если я никогда не избавлюсь от тревоги?' },
            { suit: 'hearts', symbol: '♥', value: 4, displayValue: '4', text: 'А что если я всегда буду бояться неудач?' },
            { suit: 'hearts', symbol: '♥', value: 5, displayValue: '5', text: 'А что если я никогда не реализую свой потенциал?' },
            { suit: 'hearts', symbol: '♥', value: 6, displayValue: '6', text: 'А что если я всегда буду сравнивать себя с другими?' },
            { suit: 'hearts', symbol: '♥', value: 7, displayValue: '7', text: 'А что если я никогда не научусь принимать себя?' },
            { suit: 'hearts', symbol: '♥', value: 8, displayValue: '8', text: 'А что если я всегда буду искать одобрения?' },
            { suit: 'hearts', symbol: '♥', value: 9, displayValue: '9', text: 'А что если я никогда не избавлюсь от сомнений?' },
            { suit: 'hearts', symbol: '♥', value: 10, displayValue: '10', text: 'А что если я всегда буду бояться одиночества?' },
            { suit: 'hearts', symbol: '♥', value: 11, displayValue: 'В', text: 'А что если я никогда не научусь быть уверенным?' },
            { suit: 'hearts', symbol: '♥', value: 12, displayValue: 'Д', text: 'А что если я всегда буду прятать свои истинные чувства?' },
            { suit: 'hearts', symbol: '♥', value: 13, displayValue: 'К', text: 'А что если я никогда не познаю настоящего счастья?' }
        ];

        // Элементы DOM
        const playerCard = document.getElementById('playerCard');
        const opponentCard = document.getElementById('opponentCard');
        const playerSuit = document.getElementById('playerSuit');
        const playerValue = document.getElementById('playerValue');
        const playerText = document.getElementById('playerText');
        const opponentSuit = document.getElementById('opponentSuit');
        const opponentValue = document.getElementById('opponentValue');
        const opponentText = document.getElementById('opponentText');
        const playerScore = document.getElementById('playerScore');
        const opponentScore = document.getElementById('opponentScore');
        const resultMessage = document.getElementById('resultMessage');
        const playBtn = document.getElementById('playBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');

        // Переменные игры
        let playerScoreValue = 0;
        let opponentScoreValue = 0;
        let round = 0;
        const maxRounds = 5;
        let playerDeck = [];
        let opponentDeck = [];

        // Веса мастей для определения мрачности
        const suitWeights = {
            'spades': 4,
            'clubs': 3,
            'diamonds': 2,
            'hearts': 1
        };

        // Инициализация игры
        function initGame() {
            playerScoreValue = 0;
            opponentScoreValue = 0;
            round = 0;
            
            playerScore.textContent = playerScoreValue;
            opponentScore.textContent = opponentScoreValue;
            resultMessage.textContent = '';
            
            // Создаем колоды для игрока и противника
            playerDeck = [...darkThoughts];
            opponentDeck = [...darkThoughts];
            
            // Перемешиваем колоды
            shuffleDeck(playerDeck);
            shuffleDeck(opponentDeck);
            
            // Сбрасываем карты
            playerCard.classList.remove('flipped');
            opponentCard.classList.remove('flipped');
            
            // Обновляем кнопки
            playBtn.disabled = false;
            nextBtn.disabled = true;
        }

        // Перемешивание колоды
        function shuffleDeck(deck) {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        // Разыгрывание карты
        function playCard() {
            if (round >= maxRounds) return;
            
            // Берем карты из колод
            const playerCardData = playerDeck.pop();
            const opponentCardData = opponentDeck.pop();
            
            // Обновляем отображение карт
            updateCard(playerCard, playerSuit, playerValue, playerText, playerCardData);
            updateCard(opponentCard, opponentSuit, opponentValue, opponentText, opponentCardData);
            
            // Переворачиваем карты
            playerCard.classList.add('flipped');
            opponentCard.classList.add('flipped');
            
            // Определяем победителя раунда
            const playerCardPower = calculateCardPower(playerCardData);
            const opponentCardPower = calculateCardPower(opponentCardData);
            
            round++;
            
            // Определяем результат раунда
            if (playerCardPower > opponentCardPower) {
                playerScoreValue++;
                resultMessage.textContent = 'Твоя мысль мрачнее! +1 очко';
            } else if (opponentCardPower > playerCardPower) {
                opponentScoreValue++;
                resultMessage.textContent = 'Мысль противника мрачнее! +1 очко';
            } else {
                resultMessage.textContent = 'Ничья! Мысли одинаково мрачны';
            }
            
            // Обновляем счет
            playerScore.textContent = playerScoreValue;
            opponentScore.textContent = opponentScoreValue;
            
            // Проверяем окончание игры
            if (round >= maxRounds) {
                endGame();
            } else {
                playBtn.disabled = true;
                nextBtn.disabled = false;
            }
        }

        // Расчет силы карты (мрачности)
        function calculateCardPower(card) {
            // Базовая сила = значение карты * вес масти
            return card.value * suitWeights[card.suit];
        }

        // Обновление отображения карты
        function updateCard(cardElement, suitElement, valueElement, textElement, cardData) {
            // Обновляем масть
            suitElement.innerHTML = `<span class="suit-symbol ${cardData.suit}">${cardData.symbol}</span>`;
            
            // Обновляем значение (используем русские обозначения)
            valueElement.textContent = cardData.displayValue;
            
            // Обновляем текст
            textElement.textContent = cardData.text;
        }

        // Следующий раунд
        function nextRound() {
            playerCard.classList.remove('flipped');
            opponentCard.classList.remove('flipped');
            resultMessage.textContent = '';
            playBtn.disabled = false;
            nextBtn.disabled = true;
        }

        // Окончание игры
        function endGame() {
            playBtn.disabled = true;
            nextBtn.disabled = true;
            
            if (playerScoreValue > opponentScoreValue) {
                resultMessage.textContent = 'ПОБЕДА! Твои мысли мрачнее!';
            } else if (opponentScoreValue > playerScoreValue) {
                resultMessage.textContent = 'ПОРАЖЕНИЕ! Мысли противника мрачнее.';
            } else {
                resultMessage.textContent = 'НИЧЬЯ! Вы одинаково мрачны.';
            }
        }

        // Обработчики событий
        playBtn.addEventListener('click', playCard);
        nextBtn.addEventListener('click', nextRound);
        resetBtn.addEventListener('click', initGame);

        // Запуск игры при загрузке
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>